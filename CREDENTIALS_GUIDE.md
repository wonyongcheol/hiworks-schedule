# 자격 증명 저장 기능 가이드

## 개요

하이웍스 스케줄 관리자는 사용자의 아이디와 비밀번호를 안전하게 저장하여 편리한 로그인을 제공합니다.

## 주요 기능

### 1. 자격 증명 저장
- **"자격 증명 저장" 체크박스**: 로그인 시 아이디와 비밀번호를 암호화하여 저장
- **보안**: Fernet 암호화를 사용하여 안전하게 저장
- **저장 위치**: `data/credentials.enc` 파일에 암호화된 형태로 저장

### 2. 자동 로그인
- **"자동 로그인" 체크박스**: 프로그램 시작 시 저장된 자격 증명으로 자동 로그인
- **편의성**: 매번 아이디/비밀번호를 입력할 필요 없음

### 3. 자격 증명 관리
- **메뉴**: 도구 → 자격 증명 관리 → 저장된 자격 증명 삭제
- **기능**: 저장된 자격 증명을 완전히 삭제

## 사용 방법

### 첫 번째 로그인
1. 아이디와 비밀번호를 입력
2. "자격 증명 저장" 체크박스 선택
3. "자동 로그인" 체크박스 선택 (선택사항)
4. "시작" 버튼 클릭
5. 로그인 성공 시 자격 증명이 자동으로 저장됨

### 이후 로그인
- **자동 로그인 활성화**: 프로그램 시작 시 자동으로 로그인 시도
- **수동 로그인**: 저장된 자격 증명이 입력란에 자동으로 채워짐

### 자격 증명 삭제
1. 메뉴에서 "도구" → "자격 증명 관리" → "저장된 자격 증명 삭제" 선택
2. 확인 메시지 후 삭제 완료

## 보안 정보

### 암호화 방식
- **알고리즘**: Fernet (AES-128-CBC)
- **키 관리**: `data/key.enc` 파일에 암호화 키 저장
- **데이터 형식**: JSON 형태로 직렬화 후 암호화

### 파일 구조
```
data/
├── credentials.enc    # 암호화된 자격 증명
└── key.enc           # 암호화 키
```

### 보안 주의사항
- 암호화 키 파일(`key.enc`)을 안전하게 보관하세요
- 다른 컴퓨터로 이동 시 키 파일도 함께 복사해야 합니다
- 공용 컴퓨터에서는 자격 증명 저장을 사용하지 마세요

## 문제 해결

### 자격 증명이 로드되지 않는 경우
1. `data/` 폴더가 존재하는지 확인
2. `credentials.enc` 파일이 있는지 확인
3. 파일 권한 문제인지 확인

### 암호화 오류가 발생하는 경우
1. `key.enc` 파일이 손상되었을 수 있음
2. 저장된 자격 증명을 삭제하고 다시 저장
3. 프로그램을 재설치

### 자동 로그인이 작동하지 않는 경우
1. "자동 로그인" 체크박스가 선택되어 있는지 확인
2. 저장된 자격 증명이 유효한지 확인
3. 네트워크 연결 상태 확인

## 기술적 세부사항

### CredentialManager 클래스
```python
class CredentialManager:
    def save_credentials(self, username, password, auto_login=False)
    def load_credentials(self)
    def delete_credentials(self)
    def has_saved_credentials(self)
    def get_auto_login_status(self)
```

### 암호화 과정
1. 사용자 입력 → JSON 직렬화
2. JSON 데이터 → UTF-8 인코딩
3. 바이트 데이터 → Fernet 암호화
4. 암호화된 데이터 → 파일 저장

### 복호화 과정
1. 파일에서 암호화된 데이터 읽기
2. Fernet 복호화
3. UTF-8 디코딩
4. JSON 파싱 → 사용자 데이터

## 업데이트 내역

### v1.0.0
- 자격 증명 저장 기능 추가
- 자동 로그인 기능 추가
- 암호화된 저장소 구현
- 자격 증명 관리 메뉴 추가 